<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
    <!-- Title -->
    <title> JavaScript Loan Calculator </title>
	<!-- Title -->
	<title>Loan Calculator</title>
	<!-- Description -->
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Favicon -->
	<link rel="icon" type="image" sizes="64x64" href="" />
	<!-- Bootstrap CSS Vendor CDN -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.min.css" integrity="sha512-3q8fi8M0VS+X/3n64Ndpp6Bit7oXSiyCnzmlx6IDBLGlY5euFySyJ46RUlqIVs0DPCGOypqP8IRk/EyPvU28mQ==" crossorigin="anonymous" />
    <!-- Custom CSS File Path -->
    <link href="content/main.min.css" rel="stylesheet" />
</head>
<body>
    <!-- Preloader (if we decide to make one, ignore if not) -->
    <!-- Navigation/Sidebar -->
    <!-- Sections -->
    <table class="table-responsive-sm shadow p-3 mb-5 bg-success rounded mx-auto" id="tblCalc">
        <tr>
            <th>Enter Loan Data:</th>
            <td></td>
            <th>Loan Balance, Cumulative Equity, and Interest Payments</th>
        </tr>
        <tr>
            <td>Amount of the loan ($):</td>
            <td>
                <input id="amount">
            </td>
            <td rowspan=8>
                <canvas id="graph"
                        width="400"
                        height="250"></canvas>
            </td>
        </tr>
        <tr>
            <td>Annual interest (%):</td>
            <td><input id="rate"></td>
        </tr>
        <tr>
            <td>Repayment period (years):</td>
            <td>
                <div class="dropdown">
                    <button type="button" class="btn btn-dark dropdown-toggle" href="#" role="button" id="drpdnRepaymentPeriod" data-toggle="dropdown">Repayment Period</button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <button class="dropdown-item" href="#">30 Years</button>
                        <button class="dropdown-item" href="#">15 Years</button>
                        <button class="dropdown-item" href="#">10 Years</button>
                    </div>
                </div>
            </td>
        <tr>
            <td>Zipcode (to find lenders):</td>
            <td><input id="zipcode" onchange="calculate();"></td>
        <tr>
            <th>Approximate Payments:</th>
            <td><button id="calculate">Calculate</button></td>
        </tr>
        <tr>
            <td>Monthly payment:</td>
            <td>$<span class="output" id="payment"></span></td>
        </tr>
        <tr>
            <td>Total payment:</td>
            <td>$<span class="output" id="total"></span></td>
        </tr>
        <tr>
            <td>Total interest:</td>
            <td>$<span class="output" id="totalinterest"></span></td>
        </tr>
        <tr>
            <th>Sponsors:</th>
            <td colspan=2>
                Apply for your loan with one of these fine lenders:
                <div id="lenders"></div>
            </td>
        </tr>

    </table>


    <!-- GOOGLE MAPS API -->

    <style type="text/css">
        #map {
            height: 400px;
            width: 100%;
        }

        .controls {
            background-color: #fff;
            border-radius: 2px;
            border: 1px solid transparent;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            box-sizing: border-box;
            font-family: Roboto;
            font-size: 15px;
            font-weight: 300;
            height: 29px;
            margin-left: 17px;
            margin-top: 10px;
            outline: none;
            padding: 0 11px 0 13px;
            text-overflow: ellipsis;
            width: 400px;
        }

            .controls:focus {
                border-color: #4d90fe;
            }

        .title {
            font-weight: bold;
        }

        #infowindow-content {
            display: none;
        }

        #map #infowindow-content {
            display: inline;
        }
    </style>

    <div class="row">
        <div class="col-2"></div>
        <div class="col">
            <div style="display: none">
                <input id="pac-input"
                       class="controls"
                       type="text"
                       placeholder="Enter a location" />
            </div>
            <div id="map"></div>
            <div id="infowindow-content">
                <span id="place-name" class="title"></span><br />
                <strong>Place ID:</strong> <span id="place-id"></span><br />
                <span id="place-address"></span>
            </div>
        </div>
        <div class="col-2"></div>
    </div>

    <br />
    <br />
    <script>

        function initMap() {
            const map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 36.0966, lng: -80.0720 },
                zoom: 18,
            });
            const input = document.getElementById("pac-input");
            const autocomplete = new google.maps.places.Autocomplete(input);
            autocomplete.bindTo("bounds", map);
            // Specify just the place data fields that you need.
            autocomplete.setFields(["place_id", "geometry", "name"]);
            map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
            const infowindow = new google.maps.InfoWindow();
            const infowindowContent = document.getElementById("infowindow-content");
            infowindow.setContent(infowindowContent);
            const marker = new google.maps.Marker({ map: map });
            marker.addListener("click", () => {
                infowindow.open(map, marker);
            });
            autocomplete.addListener("place_changed", () => {
                infowindow.close();
                const place = autocomplete.getPlace();

                if (!place.geometry) {
                    return;
                }

                if (place.geometry.viewport) {
                    map.fitBounds(place.geometry.viewport);
                } else {
                    map.setCenter(place.geometry.location);
                    map.setZoom(17);
                }
                // Set the position of the marker using the place ID and location.
                marker.setPlace({
                    placeId: place.place_id,
                    location: place.geometry.location,
                });
                marker.setVisible(true);
                infowindowContent.children.namedItem("place-name").textContent =
                    place.name;
                infowindowContent.children.namedItem("place-id").textContent =
                    place.place_id;
                infowindowContent.children.namedItem("place-address").textContent =
                    place.formatted_address;
                infowindow.open(map, marker);
            });
        }

    </script>

    <!-- Footer -->
    <!-- Bootstrap JavaScript Vendor CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js" integrity="sha512-f0VlzJbcEB6KiW8ZVtL+5HWPDyW1+nJEjguZ5IVnSQkvZbwBt2RfCBY0CBO1PsMAqxxrG4Di6TfsCPP3ZRwKpA==" crossorigin="anonymous"></script>
    <script src="scripts/accounting.min.js"></script>

    <!-- Google Places API Library -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBdg4w28PU7GI9SAOF21ul03M6mwzcR-eM&callback=initMap&libraries=places&v=weekly" defer></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

    <!-- Main JavaScript File Path -->
    <script src="scripts/main.js"></script>






</body>

</html>